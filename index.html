<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹æµ‹ä½ ä»¬çš„æƒ…ä¾£å¥‘åˆåº¦æœ‰å¤šé«˜ï¼Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: #fff5f7;
            color: #333;
            line-height: 1.6;
            padding: 15px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-image: linear-gradient(to bottom, #fff5f7, #ffeef2);
            position: relative;
            overflow-x: hidden;
        }
        
        /* è£…é¥°æ€§å…ƒç´  */
        .heart-decoration {
            position: absolute;
            color: rgba(255, 105, 180, 0.1);
            font-size: 24px;
            z-index: 0;
        }
        
        .heart-decoration:nth-child(1) {
            top: 5%;
            left: 5%;
        }
        
        .heart-decoration:nth-child(2) {
            top: 10%;
            right: 7%;
        }
        
        .heart-decoration:nth-child(3) {
            bottom: 15%;
            left: 8%;
        }
        
        .heart-decoration:nth-child(4) {
            bottom: 20%;
            right: 10%;
        }
        
        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 500px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.15);
            position: relative;
            z-index: 1;
            margin-top: 20px;
            margin-bottom: 30px;
        }
        
        /* æ ‡é¢˜åŒºåŸŸ */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px dashed #ffe4ec;
            position: relative;
        }
        
        .header h1 {
            color: #ff69b4;
            font-size: 24px;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .header p {
            color: #ff85c0;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .couple-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 15px 0;
            gap: 10px;
        }
        
        .couple-icon i {
            font-size: 28px;
            color: #ff69b4;
        }
        
        /* è¿›åº¦æ¡ */
        .progress-container {
            width: 100%;
            background-color: #ffe4ec;
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
            height: 8px;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #ff69b4;
            width: 0%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        /* é—®é¢˜åŒºåŸŸ */
        .question-container {
            display: block;
        }
        
        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #ff4081;
            line-height: 1.5;
        }
        
        .question-number {
            display: inline-block;
            background-color: #ffebf3;
            color: #ff69b4;
            width: 30px;
            height: 30px;
            line-height: 30px;
            border-radius: 50%;
            text-align: center;
            margin-right: 10px;
            font-weight: bold;
        }
        
        /* é€‰é¡¹åŒºåŸŸ */
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            padding: 15px;
            background-color: #fff9fb;
            border: 2px solid #ffe4ec;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #fff0f5;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.1);
        }
        
        .option.selected {
            background-color: #ffebf3;
            border-color: #ff69b4;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.2);
        }
        
        .option-letter {
            display: inline-block;
            width: 28px;
            height: 28px;
            line-height: 28px;
            background-color: #ffcce0;
            color: #ff4081;
            border-radius: 50%;
            text-align: center;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        /* æŒ‰é’®åŒºåŸŸ */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 15px 30px;
            background-color: #ff69b4;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }
        
        .btn:hover {
            background-color: #ff4081;
            transform: scale(1.05);
        }
        
        .btn:active {
            transform: scale(0.95);
        }
        
        .btn:disabled {
            background-color: #ffcce0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-restart {
            background-color: #ffb6d9;
            color: #ff4081;
        }
        
        .btn-restart:hover {
            background-color: #ff9ec7;
        }
        
        /* ç»“æœåŒºåŸŸ */
        .result-container {
            display: none;
            text-align: center;
            padding: 20px 0;
        }
        
        .result-title {
            color: #ff69b4;
            font-size: 26px;
            margin-bottom: 20px;
        }
        
        .score {
            font-size: 60px;
            font-weight: 800;
            color: #ff4081;
            margin: 20px 0;
            text-shadow: 3px 3px 0 #ffcce0;
        }
        
        .result-level {
            font-size: 24px;
            color: #ff69b4;
            margin-bottom: 15px;
            padding: 10px 20px;
            background-color: #ffebf3;
            border-radius: 50px;
            display: inline-block;
        }
        
        .result-desc {
            font-size: 17px;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
            padding: 0 10px;
        }
        
        .share-prompt {
            background-color: #fff0f5;
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px dashed #ffcce0;
        }
        
        .share-prompt p {
            color: #ff4081;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .share-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background-color: #ff69b4;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        .share-btn:hover {
            background-color: #ff4081;
            transform: scale(1.05);
        }
        
        /* é¡µè„š */
        .footer {
            text-align: center;
            color: #ff85c0;
            font-size: 14px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ffe4ec;
            width: 100%;
            max-width: 500px;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                margin-top: 10px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .question {
                font-size: 17px;
            }
            
            .option {
                padding: 12px;
                font-size: 15px;
            }
            
            .btn {
                padding: 12px 25px;
                font-size: 16px;
            }
            
            .score {
                font-size: 50px;
            }
        }
    </style>
</head>
<body>
    <!-- è£…é¥°æ€§çˆ±å¿ƒ -->
    <div class="heart-decoration"><i class="fas fa-heart"></i></div>
    <div class="heart-decoration"><i class="fas fa-heart"></i></div>
    <div class="heart-decoration"><i class="fas fa-heart"></i></div>
    <div class="heart-decoration"><i class="fas fa-heart"></i></div>
    
    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="header">
            <h1>æµ‹æµ‹ä½ ä»¬çš„æƒ…ä¾£å¥‘åˆåº¦æœ‰å¤šé«˜ï¼Ÿ</h1>
            <p>8é“é¢˜æµ‹å‡ºä½ ä»¬çš„é»˜å¥‘ç¨‹åº¦ï¼Œå¿«æ¥è¯•è¯•å§ï¼</p>
            <div class="couple-icon">
                <i class="fas fa-heart"></i>
                <i class="fas fa-user-friends"></i>
                <i class="fas fa-heart"></i>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
        
        <!-- é—®é¢˜åŒºåŸŸ -->
        <div class="question-container" id="questionContainer">
            <div class="question" id="questionText">
                <span class="question-number" id="questionNumber">1</span>
                <span id="questionContent">å¯¹æ–¹è¿Ÿåˆ°30åˆ†é’Ÿï¼Œä½ ä¼šï¼Ÿ</span>
            </div>
            
            <div class="options" id="optionsContainer">
                <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="button-container">
                <button class="btn" id="prevBtn" disabled>
                    <i class="fas fa-arrow-left"></i>ä¸Šä¸€é¢˜
                </button>
                <button class="btn" id="nextBtn">
                    ä¸‹ä¸€é¢˜<i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <!-- ç»“æœåŒºåŸŸ -->
        <div class="result-container" id="resultContainer">
            <h2 class="result-title">æµ‹è¯•ç»“æœ</h2>
            <div class="score" id="scoreDisplay">0</div>
            <div class="result-level" id="resultLevel">ç»“æœç­‰çº§</div>
            <div class="result-desc" id="resultDesc">ç»“æœæè¿°</div>
            
            <div class="share-prompt">
                <p>ğŸ’– è½¬å‘ç»™ä¼´ä¾£è§£é”è¯¦ç»†è§£æ ğŸ’–</p>
                <p>ä¸€èµ·çœ‹çœ‹ä½ ä»¬çš„é»˜å¥‘ç‚¹åœ¨å“ªé‡Œ~</p>
                <a href="#" class="share-btn" id="shareBtn">
                    <i class="fas fa-share-alt"></i>åˆ†äº«æµ‹è¯•ç»“æœ
                </a>
            </div>
            
            <button class="btn btn-restart" id="restartBtn">
                <i class="fas fa-redo"></i>é‡æ–°æµ‹è¯•
            </button>
        </div>
    </div>
    
    <!-- é¡µè„š -->
    <div class="footer">
        <p>æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹ï¼Œæ„¿å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å± â¤ï¸</p>
        <p>Â© 2023 æƒ…ä¾£å¥‘åˆåº¦æµ‹è¯•</p>
    </div>

    <script>
        // æµ‹è¯•æ•°æ® - å¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹é¢˜ç›®ã€é€‰é¡¹å’Œç»“æœ
        const testData = {
            title: "æµ‹æµ‹ä½ ä»¬çš„æƒ…ä¾£å¥‘åˆåº¦æœ‰å¤šé«˜ï¼Ÿ",
            questions: [
                {
                    question: "å¯¹æ–¹çº¦ä¼šè¿Ÿåˆ°30åˆ†é’Ÿï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "è€å¿ƒç­‰å¾…ï¼Œè¶æœºåˆ·åˆ·æ‰‹æœº", score: 3 },
                        { text: "æœ‰ç‚¹ä¸é«˜å…´ï¼Œä½†è§é¢åå°±ç®—äº†", score: 2 },
                        { text: "æ‰“ç”µè¯è¯¢é—®æƒ…å†µï¼Œè¡¨ç¤ºç†è§£", score: 4 },
                        { text: "ç”Ÿæ°”åœ°å‡†å¤‡ç¦»å¼€", score: 1 }
                    ]
                },
                {
                    question: "å‘¨æœ«æ›´æƒ³ä¸€èµ·åšä»€ä¹ˆï¼Ÿ",
                    options: [
                        { text: "å®…åœ¨å®¶çœ‹ç”µå½±ã€æ‰“æ¸¸æˆ", score: 2 },
                        { text: "å‡ºå»æ¢åº—ã€åƒç¾é£Ÿ", score: 3 },
                        { text: "æˆ·å¤–è¿åŠ¨æˆ–éƒŠæ¸¸", score: 4 },
                        { text: "å„è‡ªå®‰æ’ï¼Œäº«å—ä¸ªäººæ—¶é—´", score: 1 }
                    ]
                },
                {
                    question: "å¯¹æ–¹å¿˜è®°é‡è¦çºªå¿µæ—¥ï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "ç›´æ¥è¡¨è¾¾å¤±æœ›ï¼Œå¸Œæœ›å¯¹æ–¹è¡¥å¿", score: 2 },
                        { text: "å‡è£…ä¸åœ¨æ„ï¼Œä½†å¿ƒé‡Œéš¾è¿‡", score: 1 },
                        { text: "ä¸»åŠ¨æé†’ï¼Œä¸€èµ·åº†ç¥", score: 4 },
                        { text: "è®¤ä¸ºçºªå¿µæ—¥ä¸é‡è¦ï¼Œå¹³æ—¶å¥½å°±è¡Œ", score: 3 }
                    ]
                },
                {
                    question: "å…³äºæœªæ¥è§„åˆ’ï¼Œä½ ä»¬é€šå¸¸ä¼šï¼Ÿ",
                    options: [
                        { text: "ç»å¸¸è®¨è®ºï¼Œæœ‰å…±åŒç›®æ ‡", score: 4 },
                        { text: "å¶å°”è°ˆèµ·ï¼Œä½†ä¸å¤ªæ·±å…¥", score: 3 },
                        { text: "å¾ˆå°‘è®¨è®ºï¼Œé¡ºå…¶è‡ªç„¶", score: 2 },
                        { text: "çœ‹æ³•åˆ†æ­§ï¼Œå®¹æ˜“äº‰åµ", score: 1 }
                    ]
                },
                {
                    question: "æ¶ˆè´¹è§‚å¿µå‘ç”Ÿåˆ†æ­§æ—¶ï¼Œä½ ä»¬ä¼šï¼Ÿ",
                    options: [
                        { text: "äº’ç›¸å¦¥åï¼Œå¯»æ‰¾æŠ˜ä¸­æ–¹æ¡ˆ", score: 4 },
                        { text: "å¤§å¤šæ•°å¬å¯¹æ–¹çš„", score: 2 },
                        { text: "å„èŠ±å„çš„ï¼Œäº’ä¸å¹²æ¶‰", score: 3 },
                        { text: "ç»å¸¸ä¸ºæ­¤äº‰åµ", score: 1 }
                    ]
                },
                {
                    question: "å‘ç”ŸçŸ›ç›¾æ—¶ï¼Œä½ ä»¬é€šå¸¸å¦‚ä½•è§£å†³ï¼Ÿ",
                    options: [
                        { text: "å†·é™æ²Ÿé€šï¼Œå¯»æ‰¾é—®é¢˜æ ¹æº", score: 4 },
                        { text: "ä¸€æ–¹å…ˆé“æ­‰ï¼Œé¿å…äº‰åµ", score: 3 },
                        { text: "å†·æˆ˜å‡ å¤©åè‡ªç„¶å’Œå¥½", score: 2 },
                        { text: "æ¿€çƒˆäº‰åµï¼Œäº’ä¸ç›¸è®©", score: 1 }
                    ]
                },
                {
                    question: "çœ‹åˆ°å¯¹æ–¹ä¸å¼‚æ€§æœ‹å‹æ­£å¸¸äº¤å¾€ï¼Œä½ ä¼šï¼Ÿ",
                    options: [
                        { text: "å®Œå…¨ä¿¡ä»»ï¼Œä¸åŠ å¹²æ¶‰", score: 4 },
                        { text: "æœ‰ç‚¹åœ¨æ„ï¼Œä½†ä¸ä¼šè¡¨ç°å‡ºæ¥", score: 3 },
                        { text: "è¯¢é—®æƒ…å†µï¼Œè¡¨è¾¾è‡ªå·±çš„æ„Ÿå—", score: 2 },
                        { text: "ç›´æ¥è¦æ±‚å‡å°‘æ¥å¾€", score: 1 }
                    ]
                },
                {
                    question: "ä½ ä»¬åœ¨ä¸€èµ·æ—¶æœ€å¸¸åšçš„äº‹æƒ…æ˜¯ï¼Ÿ",
                    options: [
                        { text: "æ·±åº¦äº¤æµï¼Œåˆ†äº«å†…å¿ƒæƒ³æ³•", score: 4 },
                        { text: "ä¸€èµ·åšæœ‰è¶£çš„æ´»åŠ¨", score: 3 },
                        { text: "å„è‡ªåšè‡ªå·±çš„äº‹ï¼Œä½†é™ªä¼´å½¼æ­¤", score: 2 },
                        { text: "ç»å¸¸å„è‡ªçœ‹æ‰‹æœºï¼Œäº¤æµä¸å¤š", score: 1 }
                    ]
                }
            ],
            results: [
                {
                    minScore: 90,
                    maxScore: 100,
                    level: "è¶…é«˜å¥‘åˆåº¦",
                    desc: "ä½ ä»¬ç®€ç›´æ˜¯å¤©ç”Ÿä¸€å¯¹ï¼ä¸‰è§‚é«˜åº¦ä¸€è‡´ï¼Œé»˜å¥‘åè¶³ï¼Œç›¸å¤„èµ·æ¥è½»æ¾æ„‰å¿«ã€‚å³ä½¿æœ‰åˆ†æ­§ä¹Ÿèƒ½ç†æ€§æ²Ÿé€šï¼Œå½¼æ­¤ç†è§£å’Œå°Šé‡ã€‚ç»§ç»­ä¿æŒè¿™ä»½ç¾å¥½ï¼Œä½ ä»¬çš„æ„Ÿæƒ…ä¼šè¶Šæ¥è¶Šæ·±åšã€‚"
                },
                {
                    minScore: 70,
                    maxScore: 89,
                    level: "ä¸­ç­‰å¥‘åˆåº¦",
                    desc: "ä½ ä»¬æœ‰ä¸é”™çš„é»˜å¥‘åŸºç¡€ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ç›¸å¤„èæ´½ã€‚è™½ç„¶å¶å°”ä¼šæœ‰å°æ‘©æ“¦ï¼Œä½†æ„¿æ„ä¸ºå½¼æ­¤è°ƒæ•´ã€‚å¤šæ²Ÿé€šã€å¤šç†è§£ï¼Œæ‰¾åˆ°æ›´é€‚åˆä½ ä»¬çš„ç›¸å¤„æ¨¡å¼ï¼Œå¥‘åˆåº¦ä¼šè¿›ä¸€æ­¥æå‡ã€‚"
                },
                {
                    minScore: 0,
                    maxScore: 69,
                    level: "æœ‰å¾…æå‡å¥‘åˆåº¦",
                    desc: "ä½ ä»¬åœ¨ç›¸å¤„ä¸­å¯èƒ½éœ€è¦æ›´å¤šç£¨åˆã€‚å·®å¼‚å¹¶ä¸å¯æ€•ï¼Œå…³é”®æ˜¯å¦‚ä½•çœ‹å¾…å’Œå¤„ç†è¿™äº›å·®å¼‚ã€‚å°è¯•å¤šäº†è§£å¯¹æ–¹çš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œå»ºç«‹æ›´æœ‰æ•ˆçš„æ²Ÿé€šæ–¹å¼ï¼Œä½ ä»¬çš„é»˜å¥‘ä¼šæ…¢æ…¢åŸ¹å…»èµ·æ¥ã€‚"
                }
            ]
        };

        // åº”ç”¨å˜é‡
        let currentQuestionIndex = 0;
        let userAnswers = new Array(testData.questions.length).fill(null);
        let totalScore = 0;

        // DOMå…ƒç´ 
        const questionNumberElement = document.getElementById('questionNumber');
        const questionContentElement = document.getElementById('questionContent');
        const optionsContainer = document.getElementById('optionsContainer');
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const questionContainer = document.getElementById('questionContainer');
        const resultContainer = document.getElementById('resultContainer');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const resultLevel = document.getElementById('resultLevel');
        const resultDesc = document.getElementById('resultDesc');
        const restartBtn = document.getElementById('restartBtn');
        const shareBtn = document.getElementById('shareBtn');

        // åˆå§‹åŒ–æµ‹è¯•
        function initTest() {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            totalScore = 0;
            updateProgressBar();
            renderQuestion();
            questionContainer.style.display = 'block';
            resultContainer.style.display = 'none';
        }

        // æ¸²æŸ“å½“å‰é—®é¢˜
        function renderQuestion() {
            const currentQuestion = testData.questions[currentQuestionIndex];
            
            // æ›´æ–°é—®é¢˜ç¼–å·å’Œå†…å®¹
            questionNumberElement.textContent = currentQuestionIndex + 1;
            questionContentElement.textContent = currentQuestion.question;
            
            // æ¸…ç©ºé€‰é¡¹å®¹å™¨
            optionsContainer.innerHTML = '';
            
            // åˆ›å»ºé€‰é¡¹
            const optionLetters = ['A', 'B', 'C', 'D'];
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <span class="option-letter">${optionLetters[index]}</span>
                    <span class="option-text">${option.text}</span>
                `;
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            updateButtonStates();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionIndex) {
            userAnswers[currentQuestionIndex] = optionIndex;
            
            // æ›´æ–°é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (index === optionIndex) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
            
            // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtn.disabled = false;
        }

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtonStates() {
            // ä¸Šä¸€é¢˜æŒ‰é’®
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // ä¸‹ä¸€é¢˜æŒ‰é’®
            const hasAnswer = userAnswers[currentQuestionIndex] !== null;
            const isLastQuestion = currentQuestionIndex === testData.questions.length - 1;
            
            if (isLastQuestion) {
                nextBtn.innerHTML = hasAnswer ? 'æŸ¥çœ‹ç»“æœ<i class="fas fa-check"></i>' : 'è¯·å…ˆé€‰æ‹©ç­”æ¡ˆ';
                nextBtn.disabled = !hasAnswer;
            } else {
                nextBtn.innerHTML = 'ä¸‹ä¸€é¢˜<i class="fas fa-arrow-right"></i>';
                nextBtn.disabled = !hasAnswer;
            }
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / testData.questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // è®¡ç®—æ€»åˆ†
        function calculateScore() {
            totalScore = 0;
            userAnswers.forEach((answerIndex, questionIndex) => {
                if (answerIndex !== null) {
                    const question = testData.questions[questionIndex];
                    totalScore += question.options[answerIndex].score;
                }
            });
            
            // è½¬æ¢ä¸ºç™¾åˆ†åˆ¶ï¼ˆæ¯é¢˜æœ€é«˜4åˆ†ï¼Œ8é¢˜æ€»åˆ†32åˆ†ï¼‰
            totalScore = Math.round((totalScore / 32) * 100);
            return totalScore;
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            calculateScore();
            
            // æŸ¥æ‰¾å¯¹åº”çš„ç»“æœ
            let result = testData.results[0];
            for (const r of testData.results) {
                if (totalScore >= r.minScore && totalScore <= r.maxScore) {
                    result = r;
                    break;
                }
            }
            
            // æ›´æ–°ç»“æœé¡µé¢
            scoreDisplay.textContent = totalScore;
            resultLevel.textContent = result.level;
            resultDesc.textContent = result.desc;
            
            // æ˜¾ç¤ºç»“æœå®¹å™¨ï¼Œéšè—é—®é¢˜å®¹å™¨
            questionContainer.style.display = 'none';
            resultContainer.style.display = 'block';
        }

        // äº‹ä»¶ç›‘å¬å™¨
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                updateProgressBar();
                renderQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < testData.questions.length - 1) {
                currentQuestionIndex++;
                updateProgressBar();
                renderQuestion();
            } else {
                showResult();
            }
        });

        restartBtn.addEventListener('click', initTest);

        shareBtn.addEventListener('click', (e) => {
            e.preventDefault();
            alert("åˆ†äº«åŠŸèƒ½éœ€è¦åœ¨å°çº¢ä¹¦Appå†…ä½¿ç”¨ï¼\n\næ‚¨å¯ä»¥æˆªå›¾ä¿å­˜æµ‹è¯•ç»“æœï¼Œåˆ†äº«ç»™ä¼´ä¾£å“¦~");
        });

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æµ‹è¯•
        document.addEventListener('DOMContentLoaded', initTest);

        // ä¸ºæµ‹è¯•ç±»å‹æ›¿æ¢æä¾›æŒ‡å¯¼
        console.log("=== å¦‚ä½•ä¿®æ”¹æµ‹è¯•ç±»å‹ ===");
        console.log("1. ä¿®æ”¹æ ‡é¢˜ï¼šæ‰¾åˆ° testData å¯¹è±¡ä¸­çš„ title å±æ€§");
        console.log("2. ä¿®æ”¹é—®é¢˜ï¼šæ‰¾åˆ° testData.questions æ•°ç»„ï¼Œä¿®æ”¹æ¯ä¸ªé—®é¢˜çš„ question å’Œ options");
        console.log("3. ä¿®æ”¹ç»“æœï¼šæ‰¾åˆ° testData.results æ•°ç»„ï¼Œä¿®æ”¹æ¯ä¸ªç»“æœçš„ level å’Œ desc");
        console.log("4. ä¿®æ”¹é¢œè‰²ï¼šåœ¨ CSS ä¸­æœç´¢ #ff69b4 å’Œ #ff4081ï¼Œæ›¿æ¢ä¸ºå…¶ä»–é¢œè‰²ä»£ç ");
        console.log("5. ä¿®æ”¹å›¾æ ‡ï¼šåœ¨ HTML ä¸­æ‰¾åˆ° <i class='fas fa-heart'></i>ï¼Œæ›¿æ¢ä¸ºå…¶ä»– FontAwesome å›¾æ ‡");
    </script>
</body>
</html>